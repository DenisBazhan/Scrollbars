/*! jQuery Scrollbars | License: https://github.com/nathggns/Scrollbars/blob/master/LICENSE */
(function(a){a.scrollbars=function(b){a("*").scrollbars(b)};a.fn.scrollbars=function(f){var d={};var e={ypadding:"auto",xpadding:"auto",mousewheel:true,mousedrag:false,mousedragcursor:"move",clicktoscroll:true,draggerheight:"auto",draggerwidth:"auto",autohide:false,touch:true,blackberry:true,force:false,keyboard:true,keyboardDistance:10};var c={init:function(q){var h=a.extend(e,q);d[this]={opts:h,ele:this};var p=this;var j=this.css("overflow"),l=this.css("overflow-x"),k=this.css("overflow-y"),n=j=="auto"||j=="scroll";n=n||l=="auto"||l=="scroll";n=n||k=="auto"||k=="scroll";if(!n&&!h.force){return false}var m=this.find("img"),o=m.length,g=0;if(o===0){c.prepare.call(this)}else{var i="imagewait-"+Math.floor(Math.random()*10000);d[i]={imgs:m,len:o,load:g};a.each(m,function(s,r){var t=new Image;a(t).bind("load error",function(u){d[i].load++;if(u.type=="error"){return false}if(d[i].load==d[i].len){c.prepare.call(p)}return true});t.src=r.src})}return true},prepare:function(){var j=this;if(this.css("position")=="static"){this.css("position","relative")}id="scroll-"+Math.floor(Math.random()*100000);this.addClass(id).addClass("scrollRoot");d[this].id=id;var i=d[this].opts.xpadding,h=d[this].opts.ypadding;if(i=="auto"){temp=a(document.createElement("div"));temp.addClass("dragConX");a("body").append(temp);i=d[this].opts.xpadding=parseFloat(temp.outerHeight());temp.remove()}if(h=="auto"){temp=a(document.createElement("div"));temp.addClass("dragConY");a("body").append(temp);h=d[this].opts.ypadding=parseFloat(temp.outerWidth());temp.remove()}var k=a(document.createElement("div"));k.addClass(id).addClass("contentWrap");this.wrapInner(k);k=this.find(".contentWrap");d[this].contentWrap=k;var g=a(document.createElement("div"));g.addClass(id).addClass("rootWrap");this.wrapInner(g);g=this.find(".rootWrap");d[this].rootWrap=g;g.css({width:this.width()-h,height:this.height()-i});if(d[this].opts.keyboard&&!this.attr("tabindex")){this.attr("tabindex","-1")}if(g.height()>k.height()&&g.width()>k.width()){this.html(k.html());this.removeClass(id).removeClass("scrollRoot")}if(c.generate.call(this,"X")){c.addEvents.call(this,"X",d[this].id)}if(c.generate.call(this,"Y")){c.addEvents.call(this,"Y",d[this].id)}if(this.find(".dragX").length>0){this.addClass("dragXUsed")}if(this.find(".dragY").length>0){this.addClass("dragYUsed")}},generate:function(i){var j=d[this].contentWrap,g=d[this].rootWrap,h=d[this].id;var p=a(document.createElement("div"));p.addClass(h).addClass("dragCon"+i);this.append(p);d[this][i]={dragCon:p};var l,o;if(i=="X"){var n=d[this].opts.xpadding;if((g.width()+n)>=j.width()){g.css({height:g.height()+n});p.remove();return false}l=p.width()/j.width();o=d[this].opts.draggerwidth;o=o=="auto"?+(p.width()*l):o;o=o<10?10:o;o=o>(p.width()-10)?p.width()-10:o}else{var m=d[this].opts.ypadding;if((g.height()+m)>j.height()){g.css({width:g.width()+m});p.remove();return false}l=p.height()/j.height();o=d[this].opts.draggerheight;o=o=="auto"?+(p.height()*l):o;o=o<10?10:o;o=o>(p.height()-10)?p.height()-10:o}var k=a(document.createElement("div"));k.addClass(h).addClass("drag"+i).addClass("drag");d[this][i].drag=k;if(i=="X"){k.css({width:o})}else{k.css({height:o})}p.append(k);if(d[this].opts.autohide){k.fadeTo(0,0)}return true},addEvents:function(k,n){ele=this;drag=d[this][k].drag;dragCon=d[this][k].dragCon;var h={dragMouseDown:function(o){if(k=="X"){a(this).data("move",o.pageX)}else{a(this).data("move",o.pageY)}a(this).addClass("active");a("body").addClass("scrollingActive");o.preventDefault();return false},scrollStarMouseMove:function(o){a(".scrollRoot").each(function(){var p=a(this).find(".drag"+k);if(p.data("move")){var q;if(k=="X"){q=o.pageX-p.data("move");c.move.call(a(this),q,k);p.data("move",o.pageX)}else{q=o.pageY-p.data("move");c.move.call(a(this),q,k);p.data("move",o.pageY)}}})},scrollStarMouseUp:function(o){a(".dragX, .dragY").data("move",false)},mousewheel:function(q,r,p,o){if(k=="X"){c.move.call(a(this),p*10,k)}else{c.move.call(a(this),-o*10,k)}return false},clickScrollUp:function(q){var o=a(".dragCon"+k+"."+n);if(a(q.srcElement).hasClass("drag")){return false}if(!o.data("mousedown")){return false}o.data("mousedown",false);var p=a(this).find(".drag");var r;if(k=="X"){r=q.pageX;r=r-p.offset().left;r=r-(p.width()/2);c.move.call(a(".scrollRoot."+n),r,k)}else{r=q.pageY;r=r-p.offset().top;r=r-(p.height()/2);c.move.call(a(".scrollRoot."+n),r,k)}q.preventDefault();return false},clickScrollDown:function(o){if(a(o.srcElement).hasClass("drag")){return false}if(!a(this).data("stayOff")){a(this).data("mousedown",true)}else{a(this).data("mousedown",false)}o.preventDefault();return false},hideEnter:function(o){a(this).find(".drag").fadeTo(400,1)},hideOut:function(p){var o=a(this).find(".drag");if(!o.data("move")){o.fadeTo(400,0)}},mouseDragDown:function(o){a("html, body").css({cursor:d[a(this)].opts.mousedragcursor});a(this).data("move",[o.pageX,o.pageY]);o.preventDefault();return false},mouseDragStarMove:function(o){a(".scrollRoot").each(function(){if(a(this).data("move")){x=a(this).data("move")[0];y=a(this).data("move")[1];dX=o.pageX-x;dY=o.pageY-y;c.moveContent.call(a(this),-dX,"X");c.moveContent.call(a(this),-dY,"Y");a(this).data("move",[o.pageX,o.pageY])}})},mouseDragStarUp:function(o){a("html, body").css({cursor:"auto"});a(".scrollRoot").each(function(){a(this).data("move",false)})},onTouchStart:function(o){ele=a(".scrollRoot."+n);if(o.targetTouches.length==1){ele.data("start",[o.targetTouches[0].pageX,o.targetTouches[0].pageY])}else{ele.data("start",false)}},onTouchEnd:function(o){ele=a(".scrollRoot."+n);if(o.targetTouches.length==1){ele.data("start",[o.targetTouches[0].pageX,o.targetTouches[0].pageY])}else{ele.data("start",false)}},onTouchMove:function(o,p){ele=a(".scrollRoot."+n);if(ele.data("start")){startX=ele.data("start")[0];startY=ele.data("start")[1];newX=o.targetTouches[0].pageX;newY=o.targetTouches[0].pageY;difX=newX-startX;difY=newY-startY;ele.data("start",[newX,newY]);if(p){X=c.moveContent.call(a(".scrollRoot."+n),difX,"X");Y=c.moveContent.call(a(".scrollRoot."+n),difY,"Y")}else{X=c.moveContent.call(a(".scrollRoot."+n),-difX,"X");Y=c.moveContent.call(a(".scrollRoot."+n),-difY,"Y")}if(!X&&!Y){o.preventDefault()}}},bbMouseDown:function(o){if(a(this).data("move")){a(this).data("move",false)}else{if(k=="X"){a(this).data("move",o.pageX)}else{a(this).data("move",o.pageY)}}},ignore:function(){}};if(d[this].opts.blackberry&&navigator.userAgent.toLowerCase().search("blackberry")!=-1){h.scrollStarMouseUp=h.ignore;h.dragMouseDown=h.bbMouseDown}if(d[this].opts.keyboard){var j=d[this].opts.keyboardDistance;this.keydown(function(p){var o;if(k=="X"){switch(p.which){case 37:c.move.call(a(this),-j,"X");o=true;break;case 39:c.move.call(a(this),j,"X");o=true;break}}else{switch(p.which){case 38:c.move.call(a(this),-j,"Y");o=true;break;case 40:c.move.call(a(this),j,"Y");o=true;break;case 33:c.moveContent.call(a(this),-a(this).height(),"Y");o=true;break;case 34:c.moveContent.call(a(this),a(this).height(),"Y");o=true;break}}if(o){p.preventDefault()}})}var m=navigator.userAgent.toLowerCase(),g=m.search("iphone")>-1||m.search("ipod")>-1||m.search("ipad")>-1||m.search("android")>-1;if(d[this].opts.touch&&g){var i=this.find(".contentWrap").get(0);var l=drag.get(0);i.ontouchstart=h.onTouchStart;i.ontouchend=h.onTouchEnd;i.ontouchmove=h.onTouchMove;l.ontouchstart=function(o){i.ontouchstart(o,true)};l.ontouchend=function(o){i.ontouchend(o,true)};l.ontouchmove=function(o){i.ontouchmove(o,true)}}drag.mousedown(h.dragMouseDown);a("*").mousemove(h.scrollStarMouseMove).mouseup(h.scrollStarMouseUp);if(a().mousewheel&&d[this].opts.mousewheel){this.mousewheel(h.mousewheel)}if(d[this].opts.clicktoscroll){dragCon.mouseup(h.clickScrollUp).mousedown(h.clickScrollDown);drag.get(0).ontouchend=function(o){dragCon.data("stayOff",true);dragCon.data("mousedown",false)}}if(d[this].opts.autohide){this.hover(h.hideEnter,h.hideOut)}if(d[this].opts.mousedrag){this.mousedown(h.mouseDragDown);a("*").mousemove(h.mouseDragStarMove).mouseup(h.mouseDragStarUp);this.css({cursor:d[this].opts.mousedragcursor})}},move:function(n,k){var p=this.find(".drag"+k);var t=this.find(".dragCon"+k);var l=this.find(".contentWrap");var i=this.find(".rootWrap");var s=false;var q;if(k=="X"){q=p.css("left")}else{q=p.css("top")}q=(q=="auto")?0:parseFloat(q);var h=q+n;var m=0;var r,o,g,j;if(k=="X"){r=t.width()-p.width();if(h<m){h=m;s=true}if(h>r){h=r;s=true}p.css({left:h});o=t.width()-p.width();j=l.width()-i.width();g=j/o;h=(h*g)*-1;l.css({left:h})}else{r=t.height()-p.height();if(h<m){h=m}if(h>r){h=r}p.css({top:h});if(h==r){h=h-1}o=t.height()-p.height();j=l.height()-i.height();g=j/o;h=(h*g)*-1;l.css({top:h})}return s},moveContent:function(l,i){var n=this.find(".drag"+i);var t=this.find(".dragCon"+i);var j=this.find(".contentWrap");var h=this.find(".rootWrap");var s=false;var o=0;var m=0;var r=0;var p=0;if(i==="X"){o=j.css("left")}else{o=j.css("top")}o=o==="auto"?0:-parseFloat(o);var g=o+l;var k=0;var q=0;if(i==="X"){k=0;q=j.width()-h.width();g=g<k?k:g;g=g>q?q:g;g=-g;j.css({left:g});m=t.width()-n.width();r=j.width()-h.width();p=m/r;o=n.css("left");o=o==="auto"?0:parseFloat(o);g=o+(p*l);k=0;q=m;g=g<k?k:g;g=g>q?q:g;n.css({left:g})}else{k=0;q=j.height()-h.height();g=g<k?k:g;g=g>q?q:g;g=-g;j.css({top:g});m=t.height()-n.height();r=j.height()-h.height();p=m/r;o=n.css("top");o=o==="auto"?0:parseFloat(o);g=o+(p*l);k=0;q=m;g=g<k?k:g;g=g>q?q:g;n.css({top:g})}return s},destroy:function(){this.html(this.find(".contentWrap").html());this.removeClass("scrollRoot").removeClass("dragXUsed").removeClass("dragYUsed")}};var b=arguments;if(c[f]){return this.each(function(){c[f].apply(a(this),a.makeArray(b).slice(1))})}else{if(typeof f==="object"||!f){return this.each(function(){c.init.apply(a(this),b)})}else{a.error("Method "+f+" does not exist on jQuery.scrollbars")}}return true}})(jQuery);